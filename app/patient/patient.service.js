"use strict";
var questionnaire_1 = require("../evaluation/questionnaire");
var question_1 = require("../evaluation/question");
require("rxjs/add/operator/map");
var core_1 = require("@angular/core");
var http_1 = require("@angular/http");
var data_service_1 = require("../shared/data/data.service");
var connector_service_1 = require("../shared/connector/connector.service");
require("rxjs/add/operator/map");
require("rxjs/add/operator/do");
var PatientService = (function () {
    function PatientService(http, dataService, connectorService) {
        this.http = http;
        this.dataService = dataService;
        this.connectorService = connectorService;
        console.log('Instanciou - PatientService!');
    }
    PatientService.prototype.isFirstRequest = function () {
        return this.dataService.isPatientsRequestDone();
    };
    PatientService.prototype.getPatients = function () {
        return this.connectorService.getPatientsData();
    };
    PatientService.prototype.getPatients_BD = function () {
        this.patients = this.dataService.getPatientsData();
        console.log(this.patients);
        return this.patients;
    };
    PatientService.prototype.setPatients = function (patients) {
        this.dataService.setPatientsData(patients);
        this.patients = patients;
    };
    PatientService.prototype.getPatient = function (id) {
        return this.patients.filter(function (patient) { return patient.id === id; })[0];
    };
    //temp
    PatientService.prototype.getCaregiverQuestionnaires = function () {
        this.caregiverQuestionaires = [];
        var quest_ = new questionnaire_1.Questionnaire();
        this.caregiverQuestionaires[0] = quest_;
        this.caregiverQuestionaires[0].id = 0;
        this.caregiverQuestionaires[0].name = "questionario teste de caregiver";
        this.caregiverQuestionaires[0].reference = "caregiver";
        this.caregiverQuestionaires[0].reference_id = "1";
        this.caregiverQuestionaires[0].ref_questionnaire = "1"; //referencia interna
        this.caregiverQuestionaires[0].questions = [];
        var a = new question_1.Question();
        a.id = 0;
        a.question = "teste de questao tudo bem";
        a.type = "text";
        var b = new question_1.Question();
        b.id = 1;
        b.question = "teste de questao radio";
        b.type = "radio";
        b.values = "Sim;N達o;Talvez;";
        var c = new question_1.Question();
        c.id = 0;
        c.question = "teste de questao tudo bem2";
        c.type = "text";
        var d = new question_1.Question();
        d.id = 1;
        d.question = "teste de questao radio2";
        d.type = "radio";
        d.values = "Sim;N達o;Talvez;";
        this.caregiverQuestionaires[0].questions.push(a);
        this.caregiverQuestionaires[0].questions.push(b);
        this.caregiverQuestionaires[0].questions.push(c);
        this.caregiverQuestionaires[0].questions.push(d);
        var quest_1 = new questionnaire_1.Questionnaire();
        quest_1.id = 0;
        quest_1.name = "questionario teste de material";
        quest_1.reference = "material";
        quest_1.reference_id = "1";
        quest_1.ref_questionnaire = "2"; //referencia interna
        quest_1.questions = [];
        var a = new question_1.Question();
        a.id = 0;
        a.question = "teste de questao tudo bem";
        a.type = "text";
        var b = new question_1.Question();
        b.id = 1;
        b.question = "teste de questao radio";
        b.type = "radio";
        b.values = "Sim;N達o;Talvez;";
        var c = new question_1.Question();
        c.id = 0;
        c.question = "teste de questao tudo bem2";
        c.type = "text";
        var d = new question_1.Question();
        d.id = 1;
        d.question = "teste de questao radio2";
        d.type = "radio";
        d.values = "Sim;N達o;Talvez;";
        this.caregiverQuestionaires.push(quest_1);
        this.caregiverQuestionaires[1].questions.push(a);
        this.caregiverQuestionaires[1].questions.push(b);
        this.caregiverQuestionaires[1].questions.push(c);
        this.caregiverQuestionaires[1].questions.push(d);
        return this.caregiverQuestionaires;
    };
    return PatientService;
}());
PatientService = __decorate([
    core_1.Injectable(),
    __metadata("design:paramtypes", [http_1.Http, data_service_1.DataService, connector_service_1.ConnectorService])
], PatientService);
exports.PatientService = PatientService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0aWVudC5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicGF0aWVudC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw2REFBNEQ7QUFDNUQsbURBQWtEO0FBSWxELGlDQUErQjtBQUUvQixzQ0FBMkM7QUFDM0Msc0NBQXdEO0FBRXhELDREQUEwRDtBQUMxRCwyRUFBeUU7QUFHekUsaUNBQStCO0FBQy9CLGdDQUE4QjtBQUc5QixJQUFhLGNBQWM7SUFLdkIsd0JBQW9CLElBQVUsRUFBVSxXQUF3QixFQUFVLGdCQUFrQztRQUF4RixTQUFJLEdBQUosSUFBSSxDQUFNO1FBQVUsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFBVSxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO1FBQ3hHLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBQ0QsdUNBQWMsR0FBZDtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLHFCQUFxQixFQUFFLENBQUM7SUFDcEQsQ0FBQztJQUNELG9DQUFXLEdBQVg7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ25ELENBQUM7SUFDRCx1Q0FBYyxHQUFkO1FBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ25ELE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFFTSxvQ0FBVyxHQUFsQixVQUFtQixRQUFRO1FBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzdCLENBQUM7SUFFRCxtQ0FBVSxHQUFWLFVB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MUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFakQsTUFBTSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztJQUN2QyxDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQUFDLEFBckdELElBcUdDO0FBckdZLGNBQWM7SUFEMUIsaUJBQVUsRUFBRTtxQ0FNaUIsV0FBSSxFQUF1QiwwQkFBVyxFQUE0QixvQ0FBZ0I7R0FMbkcsY0FBYyxDQXFHMUI7QUFyR1ksd0NBQWMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgUXVlc3Rpb25uYWlyZSB9IGZyb20gXCIuLi9ldmFsdWF0aW9uL3F1ZXN0aW9ubmFpcmVcIjtcclxuaW1wb3J0IHsgUXVlc3Rpb24gfSBmcm9tIFwiLi4vZXZhbHVhdGlvbi9xdWVzdGlvblwiO1xyXG5pbXBvcnQgYXBwID0gcmVxdWlyZShcImFwcGxpY2F0aW9uXCIpO1xyXG5pbXBvcnQgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xyXG5pbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCc7XHJcbmltcG9ydCB7IFBhdGllbnQgfSBmcm9tIFwiLi9wYXRpZW50XCI7XHJcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xyXG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBSZXNwb25zZSB9IGZyb20gXCJAYW5ndWxhci9odHRwXCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgYXMgUnhPYnNlcnZhYmxlIH0gZnJvbSBcInJ4anMvUnhcIjtcclxuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tIFwiLi4vc2hhcmVkL2RhdGEvZGF0YS5zZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbm5lY3RvclNlcnZpY2UgfSBmcm9tIFwiLi4vc2hhcmVkL2Nvbm5lY3Rvci9jb25uZWN0b3Iuc2VydmljZVwiO1xyXG5pbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gXCIuLi9zaGFyZWQvdXNlci91c2VyLnNlcnZpY2VcIjtcclxuXHJcbmltcG9ydCBcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiO1xyXG5pbXBvcnQgXCJyeGpzL2FkZC9vcGVyYXRvci9kb1wiO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgUGF0aWVudFNlcnZpY2Uge1xyXG5cclxuICAgIHB1YmxpYyBwYXRpZW50czogUGF0aWVudFtdO1xyXG4gICAgcHVibGljIGNhcmVnaXZlclF1ZXN0aW9uYWlyZXM6IFF1ZXN0aW9ubmFpcmVbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGh0dHA6IEh0dHAsIHByaXZhdGUgZGF0YVNlcnZpY2U6IERhdGFTZXJ2aWNlLCBwcml2YXRlIGNvbm5lY3RvclNlcnZpY2U6IENvbm5lY3RvclNlcnZpY2UpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnSW5zdGFuY2lvdSAtIFBhdGllbnRTZXJ2aWNlIScpO1xyXG4gICAgfVxyXG4gICAgaXNGaXJzdFJlcXVlc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNlcnZpY2UuaXNQYXRpZW50c1JlcXVlc3REb25lKCk7XHJcbiAgICB9XHJcbiAgICBnZXRQYXRpZW50cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0b3JTZXJ2aWNlLmdldFBhdGllbnRzRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0UGF0aWVudHNfQkQoKSB7XHJcbiAgICAgICAgdGhpcy5wYXRpZW50cyA9IHRoaXMuZGF0YVNlcnZpY2UuZ2V0UGF0aWVudHNEYXRhKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXRpZW50cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aWVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFBhdGllbnRzKHBhdGllbnRzKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhU2VydmljZS5zZXRQYXRpZW50c0RhdGEocGF0aWVudHMpO1xyXG4gICAgICAgIHRoaXMucGF0aWVudHMgPSBwYXRpZW50cztcclxuICAgIH1cclxuXHJcbiAgICBnZXRQYXRpZW50KGlkOiBudW1iZXIpOiBQYXRpZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXRpZW50cy5maWx0ZXIocGF0aWVudCA9PiBwYXRpZW50LmlkID09PSBpZClbMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy90ZW1wXHJcblxyXG4gICAgZ2V0Q2FyZWdpdmVyUXVlc3Rpb25uYWlyZXMoKXsgLy8gdGVtcG9yYXJpbyBwYXJhIGZ1dHVyYW1lbnRlIGFsdGVyYXJcclxuICAgICAgICB0aGlzLmNhcmVnaXZlclF1ZXN0aW9uYWlyZXM9W107XHJcbiAgICAgICAgdmFyIHF1ZXN0XyA9IG5ldyBRdWVzdGlvbm5haXJlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FyZWdpdmVyUXVlc3Rpb25haXJlc1swXT1xdWVzdF87XHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzWzBdLmlkPTA7XHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzWzBdLm5hbWU9XCJxdWVzdGlvbmFyaW8gdGVzdGUgZGUgY2FyZWdpdmVyXCI7XHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzWzBdLnJlZmVyZW5jZT1cImNhcmVnaXZlclwiO1xyXG4gICAgICAgIHRoaXMuY2FyZWdpdmVyUXVlc3Rpb25haXJlc1swXS5yZWZlcmVuY2VfaWQ9XCIxXCI7XHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzWzBdLnJlZl9xdWVzdGlvbm5haXJlPVwiMVwiOyAvL3JlZmVyZW5jaWEgaW50ZXJuYVxyXG4gICAgICAgIHRoaXMuY2FyZWdpdmVyUXVlc3Rpb25haXJlc1swXS5xdWVzdGlvbnM9W107XHJcbiAgICAgICAgdmFyIGE9bmV3IFF1ZXN0aW9uKCk7XHJcbiAgICAgICAgYS5pZD0wO1xyXG4gICAgICAgIGEucXVlc3Rpb249XCJ0ZXN0ZSBkZSBxdWVzdGFvIHR1ZG8gYmVtXCI7XHJcbiAgICAgICAgYS50eXBlPVwidGV4dFwiO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBiPSBuZXcgUXVlc3Rpb24oKTtcclxuICAgICAgICBiLmlkID0gMTtcclxuICAgICAgICBiLnF1ZXN0aW9uID0gXCJ0ZXN0ZSBkZSBxdWVzdGFvIHJhZGlvXCI7XHJcbiAgICAgICAgYi50eXBlID0gXCJyYWRpb1wiO1xyXG4gICAgICAgIGIudmFsdWVzID0gXCJTaW07TsOjbztUYWx2ZXo7XCI7XHJcbiAgICAgICAgdmFyIGMgPSBuZXcgUXVlc3Rpb24oKTtcclxuICAgICAgYy5pZCA9IDA7XHJcbiAgICAgIGMucXVlc3Rpb24gPSBcInRlc3RlIGRlIHF1ZXN0YW8gdHVkbyBiZW0yXCI7XHJcbiAgICAgIGMudHlwZSA9IFwidGV4dFwiO1xyXG4gICAgICAgIHZhciBkID0gbmV3IFF1ZXN0aW9uKCk7XHJcbiAgICAgICAgZC5pZCA9IDE7XHJcbiAgICAgICAgZC5xdWVzdGlvbiA9IFwidGVzdGUgZGUgcXVlc3RhbyByYWRpbzJcIjtcclxuICAgICAgICBkLnR5cGUgPSBcInJhZGlvXCI7XHJcbiAgICAgICAgZC52YWx1ZXMgPSBcIlNpbTtOw6NvO1RhbHZlejtcIjtcclxuICAgICAgICB0aGlzLmNhcmVnaXZlclF1ZXN0aW9uYWlyZXNbMF0ucXVlc3Rpb25zLnB1c2goYSk7XHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzWzBdLnF1ZXN0aW9ucy5wdXNoKGIpO1xyXG4gICAgICAgIHRoaXMuY2FyZWdpdmVyUXVlc3Rpb25haXJlc1swXS5xdWVzdGlvbnMucHVzaChjKTtcclxuICAgICAgICB0aGlzLmNhcmVnaXZlclF1ZXN0aW9uYWlyZXNbMF0ucXVlc3Rpb25zLnB1c2goZCk7XHJcbiAgICAgICAgdmFyIHF1ZXN0XzE9IG5ldyBRdWVzdGlvbm5haXJlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcXVlc3RfMS5pZCA9IDA7XHJcbiAgICAgICAgcXVlc3RfMS5uYW1lID0gXCJxdWVzdGlvbmFyaW8gdGVzdGUgZGUgbWF0ZXJpYWxcIjtcclxuICAgICAgICBxdWVzdF8xLnJlZmVyZW5jZSA9IFwibWF0ZXJpYWxcIjtcclxuICAgICAgICBxdWVzdF8xLnJlZmVyZW5jZV9pZCA9IFwiMVwiO1xyXG4gICAgICAgIHF1ZXN0XzEucmVmX3F1ZXN0aW9ubmFpcmUgPSBcIjJcIjsgLy9yZWZlcmVuY2lhIGludGVybmFcclxuICAgICAgICBxdWVzdF8xLnF1ZXN0aW9ucyA9IFtdO1xyXG4gICAgICAgIHZhciBhID0gbmV3IFF1ZXN0aW9uKCk7XHJcbiAgICAgICAgYS5pZCA9IDA7XHJcbiAgICAgICAgYS5xdWVzdGlvbiA9IFwidGVzdGUgZGUgcXVlc3RhbyB0dWRvIGJlbVwiO1xyXG4gICAgICAgIGEudHlwZSA9IFwidGV4dFwiO1xyXG5cclxuICAgICAgICB2YXIgYiA9IG5ldyBRdWVzdGlvbigpO1xyXG4gICAgICAgIGIuaWQgPSAxO1xyXG4gICAgICAgIGIucXVlc3Rpb24gPSBcInRlc3RlIGRlIHF1ZXN0YW8gcmFkaW9cIjtcclxuICAgICAgICBiLnR5cGUgPSBcInJhZGlvXCI7XHJcbiAgICAgICAgYi52YWx1ZXMgPSBcIlNpbTtOw6NvO1RhbHZlejtcIjtcclxuICAgICAgICB2YXIgYyA9IG5ldyBRdWVzdGlvbigpO1xyXG4gICAgICAgIGMuaWQgPSAwO1xyXG4gICAgICAgIGMucXVlc3Rpb24gPSBcInRlc3RlIGRlIHF1ZXN0YW8gdHVkbyBiZW0yXCI7XHJcbiAgICAgICAgYy50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgdmFyIGQ9IG5ldyBRdWVzdGlvbigpO1xyXG4gICAgICAgIGQuaWQgPSAxO1xyXG4gICAgICAgIGQucXVlc3Rpb24gPSBcInRlc3RlIGRlIHF1ZXN0YW8gcmFkaW8yXCI7XHJcbiAgICAgICAgZC50eXBlID0gXCJyYWRpb1wiO1xyXG4gICAgICAgIGQudmFsdWVzID0gXCJTaW07TsOjbztUYWx2ZXo7XCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzLnB1c2gocXVlc3RfMSk7XHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzWzFdLnF1ZXN0aW9ucy5wdXNoKGEpO1xyXG4gICAgICAgIHRoaXMuY2FyZWdpdmVyUXVlc3Rpb25haXJlc1sxXS5xdWVzdGlvbnMucHVzaChiKTtcclxuICAgICAgICB0aGlzLmNhcmVnaXZlclF1ZXN0aW9uYWlyZXNbMV0ucXVlc3Rpb25zLnB1c2goYyk7XHJcbiAgICAgICAgdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzWzFdLnF1ZXN0aW9ucy5wdXNoKGQpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jYXJlZ2l2ZXJRdWVzdGlvbmFpcmVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iXX0=